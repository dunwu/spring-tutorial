<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring MVC ä¹‹è§†å›¾æŠ€æœ¯ | SPRING TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/spring-tutorial/img/favicon.ico">
    <script src="https://cdn.wwads.cn/js/makemoney.js" type="text/javascript"></script>
    <meta name="description" content="ğŸ’§ spring-tutorial æ˜¯ä¸€ä¸ª Spring æ•™ç¨‹ã€‚">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    <meta name="wwads-cn-verify" content="mxqWx62nfQQ9ocT4e5DzISHzOWyF4s">
    
    <link rel="preload" href="/spring-tutorial/assets/css/0.styles.c3bb4e6a.css" as="style"><link rel="preload" href="/spring-tutorial/assets/js/app.411aa74d.js" as="script"><link rel="preload" href="/spring-tutorial/assets/js/2.c83e292c.js" as="script"><link rel="preload" href="/spring-tutorial/assets/js/49.7a8efab0.js" as="script"><link rel="prefetch" href="/spring-tutorial/assets/js/10.b7601455.js"><link rel="prefetch" href="/spring-tutorial/assets/js/11.03948980.js"><link rel="prefetch" href="/spring-tutorial/assets/js/12.ecf38bf0.js"><link rel="prefetch" href="/spring-tutorial/assets/js/13.e75cd6c0.js"><link rel="prefetch" href="/spring-tutorial/assets/js/14.5998fd7f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/15.bed79774.js"><link rel="prefetch" href="/spring-tutorial/assets/js/16.82055b07.js"><link rel="prefetch" href="/spring-tutorial/assets/js/17.f6042cab.js"><link rel="prefetch" href="/spring-tutorial/assets/js/18.d08028c1.js"><link rel="prefetch" href="/spring-tutorial/assets/js/19.ab5a7a0c.js"><link rel="prefetch" href="/spring-tutorial/assets/js/20.21031ee6.js"><link rel="prefetch" href="/spring-tutorial/assets/js/21.f301cc59.js"><link rel="prefetch" href="/spring-tutorial/assets/js/22.e81d3a52.js"><link rel="prefetch" href="/spring-tutorial/assets/js/23.ac570f2d.js"><link rel="prefetch" href="/spring-tutorial/assets/js/24.2a9ff969.js"><link rel="prefetch" href="/spring-tutorial/assets/js/25.dce5186a.js"><link rel="prefetch" href="/spring-tutorial/assets/js/26.30d77b82.js"><link rel="prefetch" href="/spring-tutorial/assets/js/27.bc02dd9d.js"><link rel="prefetch" href="/spring-tutorial/assets/js/28.57c0657d.js"><link rel="prefetch" href="/spring-tutorial/assets/js/29.759b5117.js"><link rel="prefetch" href="/spring-tutorial/assets/js/3.73be09f2.js"><link rel="prefetch" href="/spring-tutorial/assets/js/30.a58bf8be.js"><link rel="prefetch" href="/spring-tutorial/assets/js/31.b0bbb91f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/32.af4a0d23.js"><link rel="prefetch" href="/spring-tutorial/assets/js/33.cda8ce76.js"><link rel="prefetch" href="/spring-tutorial/assets/js/34.d8c61183.js"><link rel="prefetch" href="/spring-tutorial/assets/js/35.07911c10.js"><link rel="prefetch" href="/spring-tutorial/assets/js/36.fea80826.js"><link rel="prefetch" href="/spring-tutorial/assets/js/37.26d11b84.js"><link rel="prefetch" href="/spring-tutorial/assets/js/38.cf23f3c8.js"><link rel="prefetch" href="/spring-tutorial/assets/js/39.6b871216.js"><link rel="prefetch" href="/spring-tutorial/assets/js/4.a5cae8aa.js"><link rel="prefetch" href="/spring-tutorial/assets/js/40.bdcf602f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/41.92ddddfd.js"><link rel="prefetch" href="/spring-tutorial/assets/js/42.afb2f83f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/43.87c61e7a.js"><link rel="prefetch" href="/spring-tutorial/assets/js/44.6ebbb44c.js"><link rel="prefetch" href="/spring-tutorial/assets/js/45.3c340e17.js"><link rel="prefetch" href="/spring-tutorial/assets/js/46.74cf9cd1.js"><link rel="prefetch" href="/spring-tutorial/assets/js/47.6b88e592.js"><link rel="prefetch" href="/spring-tutorial/assets/js/48.3f4c8dde.js"><link rel="prefetch" href="/spring-tutorial/assets/js/5.8dc0a646.js"><link rel="prefetch" href="/spring-tutorial/assets/js/50.c9e00468.js"><link rel="prefetch" href="/spring-tutorial/assets/js/51.f749b4b1.js"><link rel="prefetch" href="/spring-tutorial/assets/js/52.211e3e93.js"><link rel="prefetch" href="/spring-tutorial/assets/js/53.fa74dd36.js"><link rel="prefetch" href="/spring-tutorial/assets/js/54.712ed5d2.js"><link rel="prefetch" href="/spring-tutorial/assets/js/55.e5907eba.js"><link rel="prefetch" href="/spring-tutorial/assets/js/56.fb6c932f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/57.6d1f0260.js"><link rel="prefetch" href="/spring-tutorial/assets/js/58.e1a3dfc7.js"><link rel="prefetch" href="/spring-tutorial/assets/js/59.b3267c14.js"><link rel="prefetch" href="/spring-tutorial/assets/js/6.aaa74b22.js"><link rel="prefetch" href="/spring-tutorial/assets/js/60.9bf75b52.js"><link rel="prefetch" href="/spring-tutorial/assets/js/61.4ac19364.js"><link rel="prefetch" href="/spring-tutorial/assets/js/62.41f2ac41.js"><link rel="prefetch" href="/spring-tutorial/assets/js/63.e6a603db.js"><link rel="prefetch" href="/spring-tutorial/assets/js/64.cf0d866f.js"><link rel="prefetch" href="/spring-tutorial/assets/js/65.7b49e268.js"><link rel="prefetch" href="/spring-tutorial/assets/js/66.6cc7cfa1.js"><link rel="prefetch" href="/spring-tutorial/assets/js/67.a41f2515.js"><link rel="prefetch" href="/spring-tutorial/assets/js/68.27ed265a.js"><link rel="prefetch" href="/spring-tutorial/assets/js/69.47dbdb01.js"><link rel="prefetch" href="/spring-tutorial/assets/js/7.6df75efc.js"><link rel="prefetch" href="/spring-tutorial/assets/js/70.5f3ecd44.js"><link rel="prefetch" href="/spring-tutorial/assets/js/71.58845d95.js"><link rel="prefetch" href="/spring-tutorial/assets/js/72.3a6afab8.js"><link rel="prefetch" href="/spring-tutorial/assets/js/8.e65c95d4.js"><link rel="prefetch" href="/spring-tutorial/assets/js/9.d144d69e.js">
    <link rel="stylesheet" href="/spring-tutorial/assets/css/0.styles.c3bb4e6a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/spring-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/master/common/dunwu-logo.png" alt="SPRING TUTORIAL" class="logo"> <span class="site-name can-hide">SPRING TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/00.Springç»¼åˆ/" class="nav-link">ç»¼åˆç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/01.Springæ ¸å¿ƒ/" class="nav-link">æ ¸å¿ƒç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/02.Springæ•°æ®/" class="nav-link">æ•°æ®ç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/03.SpringWeb/" class="nav-link">Webç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/04.SpringIO/" class="nav-link">IOç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/05.Springé›†æˆ/" class="nav-link">é›†æˆç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/99.Springå…¶ä»–/" class="nav-link">å…¶ä»–</a></div> <a href="https://github.com/dunwu/spring-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/00.Springç»¼åˆ/" class="nav-link">ç»¼åˆç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/01.Springæ ¸å¿ƒ/" class="nav-link">æ ¸å¿ƒç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/02.Springæ•°æ®/" class="nav-link">æ•°æ®ç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/03.SpringWeb/" class="nav-link">Webç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/04.SpringIO/" class="nav-link">IOç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/05.Springé›†æˆ/" class="nav-link">é›†æˆç¯‡</a></div><div class="nav-item"><a href="/spring-tutorial/01.Java/13.æ¡†æ¶/01.Spring/99.Springå…¶ä»–/" class="nav-link">å…¶ä»–</a></div> <a href="https://github.com/dunwu/spring-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>æ¡†æ¶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Spring</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springç»¼åˆ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springæ ¸å¿ƒ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springæ•°æ®</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>SpringWeb</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring-tutorial/pages/65351b/" class="sidebar-link">Spring Web ç»¼è¿°</a></li><li><a href="/spring-tutorial/pages/5d002f/" class="sidebar-link">Spring Web åº”ç”¨</a></li><li><a href="/spring-tutorial/pages/20287b/" class="sidebar-link">Spring MVC ä¹‹ DispatcherServlet</a></li><li><a href="/spring-tutorial/pages/4a164d/" class="sidebar-link">Spring MVC ä¹‹è¿‡æ»¤å™¨</a></li><li><a href="/spring-tutorial/pages/1d2954/" class="sidebar-link">Spring MVC ä¹‹è·¨åŸŸ</a></li><li><a href="/spring-tutorial/pages/251e31/" aria-current="page" class="active sidebar-link">Spring MVC ä¹‹è§†å›¾æŠ€æœ¯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#thymeleaf" class="sidebar-link">Thymeleaf</a></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#freemarker" class="sidebar-link">FreeMarker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#è§†å›¾é…ç½®" class="sidebar-link">è§†å›¾é…ç½®</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#freemarker-é…ç½®" class="sidebar-link">FreeMarker é…ç½®</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#è¡¨å•å¤„ç†" class="sidebar-link">è¡¨å•å¤„ç†</a></li><li class="sidebar-sub-header level4"><a href="/spring-tutorial/pages/251e31/#ç»‘å®šå®" class="sidebar-link">ç»‘å®šå®</a></li><li class="sidebar-sub-header level4"><a href="/spring-tutorial/pages/251e31/#ç®€å•ç»‘å®š" class="sidebar-link">ç®€å•ç»‘å®š</a></li><li class="sidebar-sub-header level4"><a href="/spring-tutorial/pages/251e31/#è¾“å…¥å®" class="sidebar-link">è¾“å…¥å®</a></li><li class="sidebar-sub-header level4"><a href="/spring-tutorial/pages/251e31/#html-è½¬ä¹‰" class="sidebar-link">HTML è½¬ä¹‰</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#groovy" class="sidebar-link">Groovy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#é…ç½®" class="sidebar-link">é…ç½®</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#ç¤ºä¾‹" class="sidebar-link">ç¤ºä¾‹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#è„šæœ¬è§†å›¾" class="sidebar-link">è„šæœ¬è§†å›¾</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#è¦æ±‚" class="sidebar-link">è¦æ±‚</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#è„šæœ¬æ¨¡æ¿" class="sidebar-link">è„šæœ¬æ¨¡æ¿</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#jsp-å’Œ-jstl" class="sidebar-link">JSP å’Œ JSTL</a></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#rss-and-atom" class="sidebar-link">RSS and Atom</a></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#pdf-and-excel" class="sidebar-link">PDF and Excel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#æ–‡æ¡£è§†å›¾ç®€ä»‹" class="sidebar-link">æ–‡æ¡£è§†å›¾ç®€ä»‹</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#pdf-è§†å›¾" class="sidebar-link">PDF è§†å›¾</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#excel-è§†å›¾" class="sidebar-link">Excel è§†å›¾</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#jackson" class="sidebar-link">Jackson</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#åŸºäº-jackson-çš„-json-mvc-è§†å›¾" class="sidebar-link">åŸºäº Jackson çš„ JSON MVC è§†å›¾</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#åŸºäº-jackson-çš„-xml-è§†å›¾" class="sidebar-link">åŸºäº Jackson çš„ XML è§†å›¾</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#xml" class="sidebar-link">XML</a></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#xslt" class="sidebar-link">XSLT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#beans" class="sidebar-link">Beans</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#controller" class="sidebar-link">Controller</a></li><li class="sidebar-sub-header level3"><a href="/spring-tutorial/pages/251e31/#transformation" class="sidebar-link">Transformation</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-tutorial/pages/251e31/#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a></li></ul></li><li><a href="/spring-tutorial/pages/ad0516/" class="sidebar-link">SpringBoot ä¹‹åº”ç”¨ EasyUI</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringIO</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springé›†æˆ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springå®‰å…¨</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Springå…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/spring-tutorial/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/spring-tutorial/categories/?category=Java" title="åˆ†ç±»" data-v-06225672>Java</a></li><li data-v-06225672><a href="/spring-tutorial/categories/?category=%E6%A1%86%E6%9E%B6" title="åˆ†ç±»" data-v-06225672>æ¡†æ¶</a></li><li data-v-06225672><a href="/spring-tutorial/categories/?category=Spring" title="åˆ†ç±»" data-v-06225672>Spring</a></li><li data-v-06225672><a href="/spring-tutorial/categories/?category=SpringWeb" title="åˆ†ç±»" data-v-06225672>SpringWeb</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/dunwu" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>dunwu</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-02-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Spring MVC ä¹‹è§†å›¾æŠ€æœ¯<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="spring-mvc-ä¹‹è§†å›¾æŠ€æœ¯"><a href="#spring-mvc-ä¹‹è§†å›¾æŠ€æœ¯" class="header-anchor">#</a> Spring MVC ä¹‹è§†å›¾æŠ€æœ¯</h1> <p>Spring MVC ä¸­è§†å›¾æŠ€æœ¯çš„ä½¿ç”¨æ˜¯å¯æ’æ‹”çš„ã€‚æ— è®ºå†³å®šä½¿ç”¨ Thymeleafã€Groovy ç­‰æ¨¡æ¿å¼•æ“ã€JSP è¿˜æ˜¯å…¶ä»–æŠ€æœ¯ï¼Œéƒ½å¯ä»¥é€šè¿‡é…ç½®æ¥æ›´æ”¹ã€‚</p> <p>Spring MVC çš„è§†å›¾ä½äºè¯¥åº”ç”¨ç¨‹åºçš„å†…éƒ¨ä¿¡ä»»è¾¹ç•Œå†…ã€‚ è§†å›¾å¯ä»¥è®¿é—®åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„æ‰€æœ‰ beanã€‚ å› æ­¤ï¼Œä¸å»ºè®®åœ¨æ¨¡æ¿å¯ç”±å¤–éƒ¨æºç¼–è¾‘çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ Spring MVC çš„æ¨¡æ¿æ”¯æŒï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿå®‰å…¨éšæ‚£ã€‚</p> <h2 id="thymeleaf"><a href="#thymeleaf" class="header-anchor">#</a> Thymeleaf</h2> <p><a href="https://www.thymeleaf.org/" target="_blank" rel="noopener noreferrer">Thymeleaf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ä¸ªç°ä»£æœåŠ¡å™¨ç«¯ Java æ¨¡æ¿å¼•æ“ï¼Œå®ƒå¼ºè°ƒè‡ªç„¶çš„ HTML æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡åŒå‡»åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆï¼Œè€Œæ— éœ€è¿è¡ŒæœåŠ¡å™¨ï¼Œè¿™å¯¹äº UI æ¨¡æ¿çš„ç‹¬ç«‹å·¥ä½œï¼ˆä¾‹å¦‚ï¼Œç”±è®¾è®¡å¸ˆï¼‰éå¸¸æœ‰å¸®åŠ©ã€‚</p> <p>Thymeleaf ä¸ Spring MVC çš„é›†æˆç”± Thymeleaf é¡¹ç›®ç®¡ç†ã€‚ é…ç½®æ¶‰åŠä¸€äº› bean å£°æ˜ï¼Œä¾‹å¦‚ <code>ServletContextTemplateResolver</code>ã€<code>SpringTemplateEngine</code> å’Œ <code>ThymeleafViewResolver</code>ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://www.thymeleaf.org/documentation.html" target="_blank" rel="noopener noreferrer">Thymeleaf+Spring<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="freemarker"><a href="#freemarker" class="header-anchor">#</a> FreeMarker</h2> <p><a href="https://freemarker.apache.org/" target="_blank" rel="noopener noreferrer">Apache FreeMarker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œç”¨äºç”Ÿæˆä» HTML åˆ°ç”µå­é‚®ä»¶ç­‰ä»»ä½•ç±»å‹çš„æ–‡æœ¬å†…å®¹ã€‚ Spring æ¡†æ¶å†…ç½®äº† Spring MVC ä¸ FreeMarker æ¨¡æ¿ç»“åˆä½¿ç”¨çš„é›†æˆã€‚</p> <h3 id="è§†å›¾é…ç½®"><a href="#è§†å›¾é…ç½®" class="header-anchor">#</a> è§†å›¾é…ç½®</h3> <p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•å°† FreeMarker é…ç½®ä¸ºè§†å›¾æŠ€æœ¯ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureViewResolvers</span><span class="token punctuation">(</span><span class="token class-name">ViewResolverRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">freeMarker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Configure FreeMarker...</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">FreeMarkerConfigurer</span> <span class="token function">freeMarkerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FreeMarkerConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FreeMarkerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setTemplateLoaderPath</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/freemarker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åœ¨ XML ä¸­é…ç½®ç›¸åŒçš„å†…å®¹ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>freemarker</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Configure FreeMarker... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>freemarker-configurer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>template-loader-path</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/freemarker<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>freemarker-configurer</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥å£°æ˜ <code>FreeMarkerConfigurer</code> ä»¥å®Œå…¨æ§åˆ¶æ‰€æœ‰å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>freemarkerConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>templateLoaderPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/freemarker/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ‚¨çš„æ¨¡æ¿éœ€è¦å­˜å‚¨åœ¨å‰é¢ç¤ºä¾‹ä¸­æ‰€ç¤ºçš„ <code>FreeMarkerConfigurer</code> æŒ‡å®šçš„ç›®å½•ä¸­ã€‚é‰´äºå‰é¢çš„é…ç½®ï¼Œå¦‚æœæ‚¨çš„æ§åˆ¶å™¨è¿”å›è§†å›¾åç§° <code>welcome</code>ï¼Œè§£æå™¨å°†æŸ¥æ‰¾ <code>/WEB-INF/freemarker/welcome.ftl</code> æ¨¡æ¿ã€‚</p> <h3 id="freemarker-é…ç½®"><a href="#freemarker-é…ç½®" class="header-anchor">#</a> FreeMarker é…ç½®</h3> <p>å¯ä»¥é€šè¿‡åœ¨ <code>FreeMarkerConfigurer</code> ä¸Šè®¾ç½®é€‚å½“çš„ bean å±æ€§ï¼Œå°† FreeMarker 'Settings' å’Œ 'SharedVariables' ç›´æ¥ä¼ é€’ç»™ FreeMarker <code>Configuration</code> å¯¹è±¡ï¼ˆç”± Spring ç®¡ç†ï¼‰ã€‚ <code>freemarkerSettings</code> å±æ€§éœ€è¦ä¸€ä¸ª <code>java.util.Properties</code> å¯¹è±¡ï¼Œ<code>freemarkerVariables</code> å±æ€§éœ€è¦ä¸€ä¸ª <code>java.util.Map</code>ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>FreeMarkerConfigurer</code>ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>freemarkerConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>templateLoaderPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/freemarker/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>freemarkerVariables<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xml_escape<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fmXmlEscape<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fmXmlEscape<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>freemarker.template.utility.XmlEscape<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>æœ‰å…³åº”ç”¨äº <code>Configuration</code> å¯¹è±¡çš„è®¾ç½®å’Œå˜é‡çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… FreeMarker æ–‡æ¡£ã€‚</p> <h3 id="è¡¨å•å¤„ç†"><a href="#è¡¨å•å¤„ç†" class="header-anchor">#</a> è¡¨å•å¤„ç†</h3> <p>Spring æä¾›äº†ä¸€ä¸ªç”¨äº JSP çš„æ ‡è®°åº“ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª <code>&lt;spring:bind/&gt;</code> å…ƒç´ ã€‚ æ­¤å…ƒç´ ä¸»è¦è®©è¡¨å•æ˜¾ç¤ºæ¥è‡ªè¡¨å•æ”¯æŒå¯¹è±¡çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºæ¥è‡ª Web æˆ–ä¸šåŠ¡å±‚ä¸­çš„â€œéªŒè¯å™¨â€çš„éªŒè¯å¤±è´¥çš„ç»“æœã€‚ Spring è¿˜æ”¯æŒ FreeMarker ä¸­çš„ç›¸åŒåŠŸèƒ½ï¼Œä»¥åŠç”¨äºç”Ÿæˆè¡¨å•è¾“å…¥å…ƒç´ çš„é¢å¤–ä¾¿åˆ©å®ã€‚</p> <h4 id="ç»‘å®šå®"><a href="#ç»‘å®šå®" class="header-anchor">#</a> ç»‘å®šå®</h4> <p>åœ¨ FreeMarker çš„ <code>spring-webmvc.jar</code> æ–‡ä»¶ä¸­ç»´æŠ¤äº†ä¸€ç»„æ ‡å‡†å®ï¼Œå› æ­¤å®ƒä»¬å§‹ç»ˆå¯ç”¨äºé€‚å½“é…ç½®çš„åº”ç”¨ç¨‹åºã€‚</p> <p>Spring æ¨¡æ¿åº“ä¸­å®šä¹‰çš„ä¸€äº›å®è¢«è®¤ä¸ºæ˜¯å†…éƒ¨çš„ï¼ˆç§æœ‰çš„ï¼‰ï¼Œä½†å®å®šä¹‰ä¸­ä¸å­˜åœ¨è¿™æ ·çš„èŒƒå›´ï¼Œè¿™ä½¿å¾—æ‰€æœ‰å®å¯¹è°ƒç”¨ä»£ç å’Œç”¨æˆ·æ¨¡æ¿éƒ½æ˜¯å¯è§çš„ã€‚ä»¥ä¸‹éƒ¨åˆ†ä»…å…³æ³¨æ‚¨éœ€è¦ä»æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨çš„å®ã€‚å¦‚æœæ‚¨æƒ³ç›´æ¥æŸ¥çœ‹å®ä»£ç ï¼Œè¯¥æ–‡ä»¶åä¸º <code>spring.ftl</code> ï¼Œä½äº <code>org.springframework.web.servlet.view.freemarker</code> åŒ…ä¸­ã€‚</p> <h4 id="ç®€å•ç»‘å®š"><a href="#ç®€å•ç»‘å®š" class="header-anchor">#</a> ç®€å•ç»‘å®š</h4> <p>åœ¨åŸºäºå……å½“ Spring MVC æ§åˆ¶å™¨è¡¨å•è§†å›¾çš„ FreeMarker æ¨¡æ¿çš„ HTML è¡¨å•ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äºä¸‹ä¸€ä¸ªç¤ºä¾‹çš„ä»£ç æ¥ç»‘å®šåˆ°å­—æ®µå€¼ï¼Œå¹¶ä»¥ç±»ä¼¼äº JSP ç­‰ä»·ç‰©çš„æ–¹å¼ä¸ºæ¯ä¸ªè¾“å…¥å­—æ®µæ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ª personForm è§†å›¾ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- FreeMarker macros have to be imported into a namespace.
    We strongly recommend sticking to 'spring'. --&gt;</span>
&lt;#import &quot;/spring.ftl&quot; as spring/&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        Name:
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>@spring.bind</span> <span class="token attr-name">&quot;personForm.name&quot;</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${spring.status.expression}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${spring.status.value?html}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#list</span> <span class="token attr-name">spring.status.errorMessages</span> <span class="token attr-name">as</span> <span class="token attr-name">error</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>${error}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>#list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>&lt;@spring.bind&gt;</code> éœ€è¦ä¸€ä¸ª 'path' å‚æ•°ï¼Œå®ƒç”±å‘½ä»¤å¯¹è±¡çš„åç§°ï¼ˆå®ƒæ˜¯ 'command'ï¼Œé™¤éæ‚¨åœ¨æ§åˆ¶å™¨é…ç½®ä¸­æ›´æ”¹å®ƒï¼‰ç»„æˆï¼Œåœ¨æ‚¨å¸Œæœ›ç»‘å®šçš„å‘½ä»¤å¯¹è±¡åè·Ÿä¸€ä¸ªå¥ç‚¹å’Œå­—æ®µåç§°ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—å­—æ®µï¼Œä¾‹å¦‚ <code>command.address.street</code>ã€‚ <code>bind</code> å®é‡‡ç”¨ <code>web.xml</code> ä¸­çš„ <code>ServletContext</code> å‚æ•° <code>defaultHtmlEscape</code> æŒ‡å®šçš„é»˜è®¤ HTML è½¬ä¹‰è¡Œä¸ºã€‚</p> <p>ç§°ä¸º <code>&lt;@spring.bindEscaped&gt;</code> çš„å®çš„å¦ä¸€ç§å½¢å¼é‡‡ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ˜ç¡®æŒ‡å®šæ˜¯å¦åº”åœ¨çŠ¶æ€é”™è¯¯æ¶ˆæ¯æˆ–å€¼ä¸­ä½¿ç”¨ HTML è½¬ä¹‰ã€‚ æ‚¨å¯ä»¥æ ¹æ®éœ€è¦å°†å…¶è®¾ç½®ä¸º <code>true</code> æˆ– <code>false</code> ã€‚ é™„åŠ çš„è¡¨å•å¤„ç†å®ç®€åŒ–äº† HTML è½¬ä¹‰çš„ä½¿ç”¨ï¼Œæ‚¨åº”è¯¥å°½å¯èƒ½ä½¿ç”¨è¿™äº›å®ã€‚</p> <h4 id="è¾“å…¥å®"><a href="#è¾“å…¥å®" class="header-anchor">#</a> è¾“å…¥å®</h4> <p>FreeMarker çš„é™„åŠ ä¾¿åˆ©å®ç®€åŒ–äº†ç»‘å®šå’Œè¡¨å•ç”Ÿæˆï¼ˆåŒ…æ‹¬éªŒè¯é”™è¯¯æ˜¾ç¤ºï¼‰ã€‚ æ°¸è¿œä¸éœ€è¦ä½¿ç”¨è¿™äº›å®æ¥ç”Ÿæˆè¡¨å•è¾“å…¥å­—æ®µï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ä¸ç®€å•çš„ HTML æ··åˆæ­é…ï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨æˆ‘ä»¬ä¹‹å‰å¼ºè°ƒçš„ Spring ç»‘å®šå®ã€‚</p> <p>ä¸‹è¡¨ä¸­çš„å¯ç”¨å®æ˜¾ç¤ºäº† FreeMarker æ¨¡æ¿ (FTL) å®šä¹‰å’Œæ¯ä¸ªé‡‡ç”¨çš„å‚æ•°åˆ—è¡¨ï¼š</p> <table><thead><tr><th style="text-align:left;">macro</th> <th style="text-align:left;">FTL definition</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>message</code> (output a string from a resource bundle based on the code parameter)</td> <td style="text-align:left;">&lt;@spring.message code/&gt;</td></tr> <tr><td style="text-align:left;"><code>messageText</code> (output a string from a resource bundle based on the code parameter, falling back to the value of the default parameter)</td> <td style="text-align:left;">&lt;@spring.messageText code, text/&gt;</td></tr> <tr><td style="text-align:left;"><code>url</code> (prefix a relative URL with the applicationâ€™s context root)</td> <td style="text-align:left;">&lt;@spring.url relativeUrl/&gt;</td></tr> <tr><td style="text-align:left;"><code>formInput</code> (standard input field for gathering user input)</td> <td style="text-align:left;">&lt;@spring.formInput path, attributes, fieldType/&gt;</td></tr> <tr><td style="text-align:left;"><code>formHiddenInput</code> (hidden input field for submitting non-user input)</td> <td style="text-align:left;">&lt;@spring.formHiddenInput path, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formPasswordInput</code> (standard input field for gathering passwords. Note that no value is ever populated in fields of this type.)</td> <td style="text-align:left;">&lt;@spring.formPasswordInput path, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formTextarea</code> (large text field for gathering long, freeform text input)</td> <td style="text-align:left;">&lt;@spring.formTextarea path, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formSingleSelect</code> (drop down box of options that let a single required value be selected)</td> <td style="text-align:left;">&lt;@spring.formSingleSelect path, options, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formMultiSelect</code> (a list box of options that let the user select 0 or more values)</td> <td style="text-align:left;">&lt;@spring.formMultiSelect path, options, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formRadioButtons</code> (a set of radio buttons that let a single selection be made from the available choices)</td> <td style="text-align:left;">&lt;@spring.formRadioButtons path, options separator, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formCheckboxes</code> (a set of checkboxes that let 0 or more values be selected)</td> <td style="text-align:left;">&lt;@spring.formCheckboxes path, options, separator, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>formCheckbox</code> (a single checkbox)</td> <td style="text-align:left;">&lt;@spring.formCheckbox path, attributes/&gt;</td></tr> <tr><td style="text-align:left;"><code>showErrors</code> (simplify display of validation errors for the bound field)</td> <td style="text-align:left;">&lt;@spring.showErrors separator, classOrStyle/&gt;</td></tr></tbody></table> <p>ä¸Šè¿°ä»»ä½•å®çš„å‚æ•°å…·æœ‰ä¸€è‡´çš„å«ä¹‰ï¼š</p> <ul><li><code>path</code>: è¦ç»‘å®šåˆ°çš„å­—æ®µçš„åç§°ï¼ˆä¾‹å¦‚ï¼Œâ€œcommand.nameâ€ï¼‰</li> <li><code>options</code>: å¯åœ¨è¾“å…¥å­—æ®µä¸­é€‰æ‹©çš„æ‰€æœ‰å¯ç”¨å€¼çš„ <code>Map</code>ã€‚æ˜ å°„çš„é”®è¡¨ç¤ºä»è¡¨å•å›ä¼ å¹¶ç»‘å®šåˆ°å‘½ä»¤å¯¹è±¡çš„å€¼ã€‚é’ˆå¯¹é”®å­˜å‚¨çš„ map å¯¹è±¡æ˜¯åœ¨è¡¨å•ä¸Šæ˜¾ç¤ºç»™ç”¨æˆ·çš„æ ‡ç­¾ï¼Œå¯èƒ½ä¸è¡¨å•å›ä¼ çš„ç›¸åº”å€¼ä¸åŒã€‚é€šå¸¸ï¼Œè¿™æ ·çš„åœ°å›¾ç”±æ§åˆ¶å™¨æä¾›ä½œä¸ºå‚è€ƒæ•°æ®ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½• <code>Map</code> å®ç°ï¼Œå…·ä½“å–å†³äºæ‰€éœ€çš„è¡Œä¸ºã€‚å¯¹äºä¸¥æ ¼æ’åºçš„æ˜ å°„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¸¦æœ‰åˆé€‚çš„â€œæ¯”è¾ƒå™¨â€çš„ <code>SortedMap</code>ï¼ˆä¾‹å¦‚ <code>TreeMap</code>ï¼‰ï¼Œå¯¹äºåº”æŒ‰æ’å…¥é¡ºåºè¿”å›å€¼çš„ä»»æ„æ˜ å°„ï¼Œä½¿ç”¨â€œLinkedHashMapâ€æˆ–â€œLinkedMapâ€ <code>å…¬å…±æ”¶è—</code>ã€‚</li> <li><code>separator</code>: åœ¨å¤šä¸ªé€‰é¡¹å¯ç”¨ä½œç¦»æ•£å…ƒç´ ï¼ˆå•é€‰æŒ‰é’®æˆ–å¤é€‰æ¡†ï¼‰çš„æƒ…å†µä¸‹ï¼Œç”¨äºåˆ†éš”åˆ—è¡¨ä¸­æ¯ä¸ªé€‰é¡¹çš„å­—ç¬¦åºåˆ—ï¼ˆä¾‹å¦‚ <code>&lt;br&gt;</code>ï¼‰ã€‚</li> <li><code>attributes</code>: è¦åŒ…å«åœ¨ HTML æ ‡è®°æœ¬èº«ä¸­çš„ä»»æ„æ ‡è®°æˆ–æ–‡æœ¬çš„é™„åŠ å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²æŒ‰å­—é¢æ„æ€ç”±å®å›æ˜¾ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>textarea</code> å­—æ®µä¸­ï¼Œæ‚¨å¯ä»¥æä¾›å±æ€§ï¼ˆä¾‹å¦‚â€œrows=&quot;5&quot; cols=&quot;60&quot;'ï¼‰ï¼Œæˆ–è€…æ‚¨å¯ä»¥ä¼ é€’æ ·å¼ä¿¡æ¯ï¼Œä¾‹å¦‚ 'style=&quot;border:1px solid silver&quot;'ã€‚</li> <li><code>classOrStyle</code>: å¯¹äº <code>showErrors</code> å®ï¼ŒåŒ…è£…æ¯ä¸ªé”™è¯¯çš„ <code>span</code> å…ƒç´ ä½¿ç”¨çš„ CSS ç±»çš„åç§°ã€‚å¦‚æœæœªæä¾›ä»»ä½•ä¿¡æ¯ï¼ˆæˆ–å€¼ä¸ºç©ºï¼‰ï¼Œé”™è¯¯å°†åŒ…å«åœ¨ <code>&lt;b&gt;&lt;/b&gt;</code> æ ‡ç­¾ä¸­ã€‚</li></ul> <p>ä»¥ä¸‹éƒ¨åˆ†æ¦‚è¿°äº†å®çš„ç¤ºä¾‹ã€‚</p> <p>è¾“å…¥å­—æ®µ</p> <p><code>formInput</code> å®é‡‡ç”¨ <code>path</code> å‚æ•° (<code>command.name</code>) å’Œä¸€ä¸ªé¢å¤–çš„ <code>attributes</code> å‚æ•°ï¼ˆåœ¨æ¥ä¸‹æ¥çš„ç¤ºä¾‹ä¸­ä¸ºç©ºï¼‰ã€‚è¯¥å®ä¸æ‰€æœ‰å…¶ä»–è¡¨å•ç”Ÿæˆå®ä¸€èµ·å¯¹è·¯å¾„å‚æ•°æ‰§è¡Œéšå¼ Spring ç»‘å®šã€‚ç»‘å®šåœ¨æ–°ç»‘å®šå‘ç”Ÿä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå› æ­¤ <code>showErrors</code> å®ä¸éœ€è¦å†æ¬¡ä¼ é€’è·¯å¾„å‚æ•°â€”â€”å®ƒå¯¹ä¸Šæ¬¡åˆ›å»ºç»‘å®šçš„å­—æ®µè¿›è¡Œæ“ä½œã€‚</p> <p><code>showErrors</code> å®æ¥å—ä¸€ä¸ªåˆ†éš”ç¬¦å‚æ•°ï¼ˆç”¨äºåˆ†éš”ç»™å®šå­—æ®µä¸Šçš„å¤šä¸ªé”™è¯¯çš„å­—ç¬¦ï¼‰ï¼Œè¿˜æ¥å—ç¬¬äºŒä¸ªå‚æ•°â€”â€”è¿™æ¬¡æ˜¯ç±»åæˆ–æ ·å¼å±æ€§ã€‚è¯·æ³¨æ„ï¼ŒFreeMarker å¯ä»¥ä¸º attributes å‚æ•°æŒ‡å®šé»˜è®¤å€¼ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>formInput</code> å’Œ <code>showErrors</code> å®ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>@spring.formInput</span> <span class="token attr-name">&quot;command.name&quot;</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>@spring.showErrors</span> <span class="token attr-name">&quot;&lt;br</span><span class="token punctuation">&gt;</span></span>&quot;/&gt;
</code></pre></div><p>ä¸‹ä¸€ä¸ªç¤ºä¾‹æ˜¾ç¤ºè¡¨å•ç‰‡æ®µçš„è¾“å‡ºï¼Œç”Ÿæˆåç§°å­—æ®µå¹¶åœ¨è¡¨å•æäº¤åæ˜¾ç¤ºéªŒè¯é”™è¯¯ï¼Œè¯¥å­—æ®µä¸­æ²¡æœ‰ä»»ä½•å€¼ã€‚éªŒè¯é€šè¿‡ Spring çš„éªŒè¯æ¡†æ¶è¿›è¡Œã€‚</p> <p>ç”Ÿæˆçš„ HTML ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code>Name:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>required<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>formTextarea</code> å®çš„å·¥ä½œæ–¹å¼ä¸ <code>formInput</code> å®ç›¸åŒï¼Œå¹¶ä¸”æ¥å—ç›¸åŒçš„å‚æ•°åˆ—è¡¨ã€‚é€šå¸¸ï¼Œç¬¬äºŒä¸ªå‚æ•° (<code>attributes</code>) ç”¨äºä¼ é€’æ ·å¼ä¿¡æ¯æˆ– <code>textarea</code> çš„ <code>rows</code> å’Œ <code>cols</code> å±æ€§ã€‚</p> <p>é€‰ä¸­å­—æ®µ</p> <p>æ‚¨å¯ä»¥ä½¿ç”¨å››ä¸ªé€‰æ‹©å­—æ®µå®åœ¨ HTML è¡¨å•ä¸­ç”Ÿæˆå¸¸è§çš„ UI å€¼é€‰æ‹©è¾“å…¥ï¼š</p> <ul><li><code>formSingleSelect</code></li> <li><code>formMultiSelect</code></li> <li><code>formRadioButtons</code></li> <li><code>formCheckboxes</code></li></ul> <p>å››ä¸ªå®ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ¥å—ä¸€ä¸ªâ€œMapâ€é€‰é¡¹ï¼Œå…¶ä¸­åŒ…å«è¡¨å•å­—æ®µçš„å€¼å’Œä¸è¯¥å€¼å¯¹åº”çš„æ ‡ç­¾ã€‚å€¼å’Œæ ‡ç­¾å¯ä»¥ç›¸åŒã€‚</p> <p>ä¸‹ä¸€ä¸ªä¾‹å­æ˜¯ FTL ä¸­çš„å•é€‰æŒ‰é’®ã€‚è¡¨å•æ”¯æŒå¯¹è±¡ä¸ºæ­¤å­—æ®µæŒ‡å®šé»˜è®¤å€¼â€œä¼¦æ•¦â€ï¼Œå› æ­¤æ— éœ€éªŒè¯ã€‚æ¸²æŸ“è¡¨å•æ—¶ï¼Œæ•´ä¸ªå¯ä¾›é€‰æ‹©çš„åŸå¸‚åˆ—è¡¨ä½œä¸ºå‚è€ƒæ•°æ®æä¾›åœ¨æ¨¡å‹ä¸­ï¼Œåç§°ä¸º <code>cityMap</code>ã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†ç¤ºä¾‹ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code>...
Town:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>@spring.formRadioButtons</span> <span class="token attr-name">&quot;command.address.town&quot;,</span> <span class="token attr-name">cityMap,</span> <span class="token attr-name">&quot;&quot;</span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å‰é¢çš„æ¸…å•å‘ˆç°ä¸€è¡Œå•é€‰æŒ‰é’®ï¼Œä¸€ä¸ªç”¨äº <code>cityMap</code> ä¸­çš„æ¯ä¸ªå€¼ï¼Œå¹¶ä½¿ç”¨åˆ†éš”ç¬¦ <code>&quot;&quot;</code>ã€‚æ²¡æœ‰æä¾›é¢å¤–çš„å±æ€§ï¼ˆç¼ºå°‘å®çš„æœ€åä¸€ä¸ªå‚æ•°ï¼‰ã€‚ <code>cityMap</code> å¯¹åœ°å›¾ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ä½¿ç”¨ç›¸åŒçš„ <code>String</code>ã€‚åœ°å›¾çš„é”®æ˜¯è¡¨å•å®é™…ä½œä¸º POST è¯·æ±‚å‚æ•°æäº¤çš„å†…å®¹ã€‚åœ°å›¾å€¼æ˜¯ç”¨æˆ·çœ‹åˆ°çš„æ ‡ç­¾ã€‚åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œç»™å®šä¸‰ä¸ªçŸ¥ååŸå¸‚çš„åˆ—è¡¨å’Œè¡¨å•æ”¯æŒå¯¹è±¡ä¸­çš„é»˜è®¤å€¼ï¼ŒHTML ç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code>Town:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>London<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>London<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Paris<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Paris<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>New York<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>New York<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå¸Œæœ›é€šè¿‡å†…éƒ¨ä»£ç å¤„ç†åŸå¸‚ï¼ˆä¾‹å¦‚ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åˆé€‚çš„é”®åˆ›å»ºä»£ç æ˜ å°„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">referenceData</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cityMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cityMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;LDN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;London&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cityMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;PRS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Paris&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cityMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;NYC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;cityMap&quot;</span><span class="token punctuation">,</span> cityMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> model<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»£ç ç°åœ¨ç”Ÿæˆè¾“å‡ºï¼Œå…¶ä¸­æ— çº¿ç”µå€¼æ˜¯ç›¸å…³ä»£ç ï¼Œä½†ç”¨æˆ·ä»ç„¶çœ‹åˆ°æ›´ç”¨æˆ·å‹å¥½çš„åŸå¸‚åç§°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code>Town:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LDN<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>London<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PRS<span class="token punctuation">&quot;</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Paris<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.town<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>NYC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>New York<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="html-è½¬ä¹‰"><a href="#html-è½¬ä¹‰" class="header-anchor">#</a> HTML è½¬ä¹‰</h4> <p>å‰é¢æè¿°çš„è¡¨å•å®çš„é»˜è®¤ä½¿ç”¨å¯¼è‡´ HTML å…ƒç´ ç¬¦åˆ HTML 4.01ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>web.xml</code> æ–‡ä»¶ä¸­å®šä¹‰çš„ HTML è½¬ä¹‰çš„é»˜è®¤å€¼ï¼Œå¦‚ Spring çš„ç»‘å®šæ”¯æŒæ‰€ä½¿ç”¨çš„é‚£æ ·ã€‚ è¦ä½¿å…ƒç´ ç¬¦åˆ XHTML æˆ–è¦†ç›–é»˜è®¤çš„ HTML è½¬ä¹‰å€¼ï¼Œæ‚¨å¯ä»¥åœ¨æ¨¡æ¿ä¸­æŒ‡å®šä¸¤ä¸ªå˜é‡ï¼ˆæˆ–åœ¨æ¨¡å‹ä¸­ï¼Œå®ƒä»¬å¯¹æ¨¡æ¿å¯è§ï¼‰ã€‚ åœ¨æ¨¡æ¿ä¸­æŒ‡å®šå®ƒä»¬çš„å¥½å¤„æ˜¯å®ƒä»¬å¯ä»¥åœ¨ç¨åçš„æ¨¡æ¿å¤„ç†ä¸­æ›´æ”¹ä¸ºä¸åŒçš„å€¼ï¼Œä»¥ä¾¿ä¸ºè¡¨å•ä¸­çš„ä¸åŒå­—æ®µæä¾›ä¸åŒçš„è¡Œä¸ºã€‚</p> <p>è¦ä¸ºæ‚¨çš„æ ‡ç­¾åˆ‡æ¢åˆ° XHTML åˆè§„æ€§ï¼Œè¯·ä¸ºåä¸º <code>xhtmlCompliant</code> çš„æ¨¡å‹æˆ–ä¸Šä¸‹æ–‡å˜é‡æŒ‡å®š <code>true</code> å€¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#--</span> <span class="token attr-name">for</span> <span class="token attr-name">FreeMarker</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#assign</span> <span class="token attr-name">xhtmlCompliant</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> true</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¤„ç†æ­¤æŒ‡ä»¤åï¼ŒSpring å®ç”Ÿæˆçš„ä»»ä½•å…ƒç´ ç°åœ¨éƒ½ç¬¦åˆ XHTMLã€‚</p> <p>ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªå­—æ®µæŒ‡å®š HTML è½¬ä¹‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#--</span> <span class="token attr-name">until</span> <span class="token attr-name">this</span> <span class="token attr-name">point,</span> <span class="token attr-name">default</span> <span class="token attr-name">HTML</span> <span class="token attr-name">escaping</span> <span class="token attr-name">is</span> <span class="token attr-name">used</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#assign</span> <span class="token attr-name">htmlEscape</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> true</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#--</span> <span class="token attr-name">next</span> <span class="token attr-name">field</span> <span class="token attr-name">will</span> <span class="token attr-name">use</span> <span class="token attr-name">HTML</span> <span class="token attr-name">escaping</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>@spring.formInput</span> <span class="token attr-name">&quot;command.name&quot;</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#assign</span> <span class="token attr-name">htmlEscape</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> false</span> <span class="token attr-name">in</span> <span class="token attr-name">spring</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>#--</span> <span class="token attr-name">all</span> <span class="token attr-name">future</span> <span class="token attr-name">fields</span> <span class="token attr-name">will</span> <span class="token attr-name">be</span> <span class="token attr-name">bound</span> <span class="token attr-name">with</span> <span class="token attr-name">HTML</span> <span class="token attr-name">escaping</span> <span class="token attr-name">off</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="groovy"><a href="#groovy" class="header-anchor">#</a> Groovy</h2> <p><a href="https://groovy-lang.org/templating.html#_the_markuptemplateengine" target="_blank" rel="noopener noreferrer">Groovy æ ‡è®°æ¨¡æ¿å¼•æ“<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸»è¦ç”¨äºç”Ÿæˆç±»ä¼¼ XML çš„æ ‡è®°ï¼ˆXMLã€XHTMLã€HTML5 ç­‰ï¼‰ï¼Œä½†å¯ä»¥ä½¿ç”¨å®ƒæ¥ç”Ÿæˆä»»ä½•åŸºäºæ–‡æœ¬çš„å†…å®¹ã€‚ Spring Framework å…·æœ‰å°† Spring MVC ä¸ Groovy æ ‡è®°ç»“åˆä½¿ç”¨çš„å†…ç½®é›†æˆã€‚</p> <h3 id="é…ç½®"><a href="#é…ç½®" class="header-anchor">#</a> é…ç½®</h3> <p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•é…ç½® Groovy æ ‡è®°æ¨¡æ¿å¼•æ“ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureViewResolvers</span><span class="token punctuation">(</span><span class="token class-name">ViewResolverRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">groovy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Configure the Groovy Markup Template Engine...</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">GroovyMarkupConfigurer</span> <span class="token function">groovyMarkupConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">GroovyMarkupConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GroovyMarkupConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setResourceLoaderPath</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åœ¨ XML ä¸­é…ç½®ç›¸åŒçš„å†…å®¹ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>groovy</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Configure the Groovy Markup Template Engine... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>groovy-configurer</span> <span class="token attr-name">resource-loader-path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="header-anchor">#</a> ç¤ºä¾‹</h3> <p>ä¸ä¼ ç»Ÿçš„æ¨¡æ¿å¼•æ“ä¸åŒï¼ŒGroovy æ ‡è®°ä¾èµ–äºä½¿ç”¨æ„å»ºå™¨è¯­æ³•çš„ DSLã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† HTML é¡µé¢çš„ç¤ºä¾‹æ¨¡æ¿ï¼š</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>yieldUnescaped <span class="token string">'&lt;!DOCTYPE html&gt;'</span>
<span class="token function">html</span><span class="token punctuation">(</span>lang<span class="token punctuation">:</span><span class="token string">'en'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    head <span class="token punctuation">{</span>
        <span class="token function">meta</span><span class="token punctuation">(</span><span class="token string">'http-equiv'</span><span class="token punctuation">:</span><span class="token string">'&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;'</span><span class="token punctuation">)</span>
        <span class="token function">title</span><span class="token punctuation">(</span><span class="token string">'My page'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    body <span class="token punctuation">{</span>
        <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">'This is an example of HTML contents'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="è„šæœ¬è§†å›¾"><a href="#è„šæœ¬è§†å›¾" class="header-anchor">#</a> è„šæœ¬è§†å›¾</h2> <p>Spring æœ‰ä¸€ä¸ªå†…ç½®çš„é›†æˆï¼Œå¯ä»¥å°† Spring MVC ä¸ä»»ä½•å¯ä»¥åœ¨ <a href="https://www.jcp.org/en/jsr/detail?id=223" target="_blank" rel="noopener noreferrer">JSR-223<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¹‹ä¸Šè¿è¡Œçš„æ¨¡æ¿åº“ä¸€èµ·ä½¿ç”¨ Java è„šæœ¬å¼•æ“ã€‚ æˆ‘ä»¬åœ¨ä¸åŒçš„è„šæœ¬å¼•æ“ä¸Šæµ‹è¯•äº†ä»¥ä¸‹æ¨¡æ¿åº“ï¼š</p> <table><thead><tr><th style="text-align:left;">è„šæœ¬åº“</th> <th style="text-align:left;">è„šæœ¬å¼•æ“</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://handlebarsjs.com/" target="_blank" rel="noopener noreferrer">Handlebars<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://openjdk.java.net/projects/nashorn/" target="_blank" rel="noopener noreferrer">Nashorn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://mustache.github.io/" target="_blank" rel="noopener noreferrer">Mustache<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://openjdk.java.net/projects/nashorn/" target="_blank" rel="noopener noreferrer">Nashorn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://facebook.github.io/react/" target="_blank" rel="noopener noreferrer">React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://openjdk.java.net/projects/nashorn/" target="_blank" rel="noopener noreferrer">Nashorn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://www.embeddedjs.com/" target="_blank" rel="noopener noreferrer">EJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://openjdk.java.net/projects/nashorn/" target="_blank" rel="noopener noreferrer">Nashorn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://www.stuartellis.name/articles/erb/" target="_blank" rel="noopener noreferrer">ERB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://www.jruby.org/" target="_blank" rel="noopener noreferrer">JRuby<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://docs.python.org/2/library/string.html#template-strings" target="_blank" rel="noopener noreferrer">String templates<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://www.jython.org/" target="_blank" rel="noopener noreferrer">Jython<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;"><a href="https://github.com/sdeleuze/kotlin-script-templating" target="_blank" rel="noopener noreferrer">Kotlin Script templating<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;"><a href="https://kotlinlang.org/" target="_blank" rel="noopener noreferrer">Kotlin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="è¦æ±‚"><a href="#è¦æ±‚" class="header-anchor">#</a> è¦æ±‚</h3> <p>éœ€è¦åœ¨ç±»è·¯å¾„ä¸­åŒ…å«è„šæœ¬å¼•æ“ï¼Œå…·ä½“ç»†èŠ‚å› è„šæœ¬å¼•æ“è€Œå¼‚ï¼š</p> <ul><li>The <a href="https://openjdk.java.net/projects/nashorn/" target="_blank" rel="noopener noreferrer">Nashorn<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Java 8+ æä¾›äº† JavaScript å¼•æ“ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨å¯ç”¨çš„æœ€æ–°æ›´æ–°ç‰ˆæœ¬ã€‚</li> <li><a href="https://www.jruby.org/" target="_blank" rel="noopener noreferrer">JRuby<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åº”è¯¥ä½œä¸º Ruby æ”¯æŒçš„ä¾èµ–é¡¹æ·»åŠ ã€‚</li> <li><a href="https://www.jython.org/" target="_blank" rel="noopener noreferrer">Jython<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åº”è¯¥ä½œä¸º Python æ”¯æŒçš„ä¾èµ–é¡¹æ·»åŠ ã€‚</li> <li><code>org.jetbrains.kotlin:kotlin-script-util</code> ä¾èµ–é¡¹å’ŒåŒ…å« <code>org.jetbrains.kotlin.script.jsr223.KotlinJsr223JvmLocalScriptEngineFactory</code> è¡Œçš„ <code>META-INF/services/javax.script.ScriptEngineFactory</code> æ–‡ä»¶åº”è¯¥è¢«æ·»åŠ  Kotlin è„šæœ¬æ”¯æŒã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://github.com/sdeleuze/kotlin-script-templating" target="_blank" rel="noopener noreferrer">æ­¤ç¤ºä¾‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</li></ul> <p>æ‚¨éœ€è¦æœ‰è„šæœ¬æ¨¡æ¿åº“ã€‚ ä¸º JavaScript åšåˆ°è¿™ä¸€ç‚¹çš„ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ <a href="https://www.webjars.org/" target="_blank" rel="noopener noreferrer">WebJars<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="è„šæœ¬æ¨¡æ¿"><a href="#è„šæœ¬æ¨¡æ¿" class="header-anchor">#</a> è„šæœ¬æ¨¡æ¿</h3> <p>å¯ä»¥å£°æ˜ä¸€ä¸ª <code>ScriptTemplateConfigurer</code> æ¥æŒ‡å®šè¦ä½¿ç”¨çš„è„šæœ¬å¼•æ“ã€è¦åŠ è½½çš„è„šæœ¬æ–‡ä»¶ã€è°ƒç”¨ä»€ä¹ˆå‡½æ•°æ¥æ¸²æŸ“æ¨¡æ¿ç­‰ç­‰ã€‚ ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ Mustache æ¨¡æ¿å’Œ Nashorn JavaScript å¼•æ“ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureViewResolvers</span><span class="token punctuation">(</span><span class="token class-name">ViewResolverRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">scriptTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ScriptTemplateConfigurer</span> <span class="token function">configurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ScriptTemplateConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScriptTemplateConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setEngineName</span><span class="token punctuation">(</span><span class="token string">&quot;nashorn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setScripts</span><span class="token punctuation">(</span><span class="token string">&quot;mustache.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setRenderObject</span><span class="token punctuation">(</span><span class="token string">&quot;Mustache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setRenderFunction</span><span class="token punctuation">(</span><span class="token string">&quot;render&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† XML ä¸­çš„ç›¸åŒé…ç½®ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>script-template</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>view-resolvers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>script-template-configurer</span> <span class="token attr-name">engine-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nashorn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render-object</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mustache<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render-function</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>render<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>script</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mustache.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>script-template-configurer</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¯¹äº Java å’Œ XML é…ç½®ï¼Œcontroller çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/sample&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sample title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sample body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;template&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† Mustache æ¨¡æ¿ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{body}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½¿ç”¨ä»¥ä¸‹å‚æ•°è°ƒç”¨æ¸²æŸ“å‡½æ•°ï¼š</p> <ul><li><code>String template</code>: æ¨¡æ¿å†…å®¹</li> <li><code>åœ°å›¾æ¨¡å‹</code>ï¼šè§†å›¾æ¨¡å‹</li> <li><code>RenderingContext renderingContext</code>ï¼š <a href="https://docs.spring.io/spring-framework/docs/6.0.5/javadoc-api/org/springframework/web/servlet/view/script/RenderingContext.html" target="_blank" rel="noopener noreferrer"><code>RenderingContext</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å…è®¸è®¿é—®åº”ç”¨ä¸Šä¸‹æ–‡ã€è¯­è¨€ç¯å¢ƒã€æ¨¡æ¿åŠ è½½å™¨å’Œ URLï¼ˆè‡ª 5.0 èµ·ï¼‰</li></ul> <p>å¦‚æœæ‚¨çš„æ¨¡æ¿æŠ€æœ¯éœ€è¦ä¸€äº›è‡ªå®šä¹‰ï¼Œæ‚¨å¯ä»¥æä¾›ä¸€ä¸ªå®ç°è‡ªå®šä¹‰æ¸²æŸ“åŠŸèƒ½çš„è„šæœ¬ã€‚ ä¾‹å¦‚ï¼Œ<a href="https://handlebarsjs.com/" target="_blank" rel="noopener noreferrer">Handlerbars<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰ç¼–è¯‘æ¨¡æ¿ï¼Œå¹¶ä¸”éœ€è¦ä¸€ä¸ª <a href="https://en.wikipedia.org/wiki/Polyfill" target="_blank" rel="noopener noreferrer">polyfill<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥æ¨¡æ‹Ÿä¸€äº›æµè§ˆå™¨å·¥å…·ï¼Œä½†åœ¨æœåŠ¡å™¨ç«¯è„šæœ¬å¼•æ“ä¸­ä¸å¯ç”¨ã€‚</p> <p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureViewResolvers</span><span class="token punctuation">(</span><span class="token class-name">ViewResolverRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">scriptTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ScriptTemplateConfigurer</span> <span class="token function">configurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ScriptTemplateConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScriptTemplateConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setEngineName</span><span class="token punctuation">(</span><span class="token string">&quot;nashorn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setScripts</span><span class="token punctuation">(</span><span class="token string">&quot;polyfill.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;handlebars.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;render.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setRenderFunction</span><span class="token punctuation">(</span><span class="token string">&quot;render&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configurer<span class="token punctuation">.</span><span class="token function">setSharedEngine</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>polyfill.js</code> åªå®šä¹‰äº† Handlebars æ­£å¸¸è¿è¡Œæ‰€éœ€çš„ <code>window</code> å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> window <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>è¿™ä¸ªåŸºæœ¬çš„ <code>render.js</code> å®ç°åœ¨ä½¿ç”¨ä¹‹å‰ç¼–è¯‘æ¨¡æ¿ã€‚ ç”Ÿäº§å°±ç»ªçš„å®ç°è¿˜åº”è¯¥å­˜å‚¨ä»»ä½•é‡å¤ä½¿ç”¨çš„ç¼“å­˜æ¨¡æ¿æˆ–é¢„ç¼–è¯‘æ¨¡æ¿ã€‚ æ‚¨å¯ä»¥åœ¨è„šæœ¬ç«¯è¿™æ ·åšï¼ˆå¹¶å¤„ç†æ‚¨éœ€è¦çš„ä»»ä½•å®šåˆ¶â€”â€”ç®¡ç†æ¨¡æ¿å¼•æ“é…ç½®ï¼Œä¾‹å¦‚ï¼‰ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">template<span class="token punctuation">,</span> model</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> compiledTemplate <span class="token operator">=</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">compiledTemplate</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æŸ¥çœ‹ Spring Framework å•å…ƒæµ‹è¯•ï¼Œ<a href="https://github.com/spring-projects/spring-framework/tree/main/spring-webmvc/src/test/java/org/springframework/web/servlet/view/script" target="_blank" rel="noopener noreferrer">Java<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ<a href="https://github.com/spring-projects/spring-framework/tree/main/spring-webmvc/src/test/resources/org/springframework/web/servlet/view/script" target="_blank" rel="noopener noreferrer">èµ„æº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œä»¥è·å–æ›´å¤šé…ç½®ç¤ºä¾‹ã€‚</p> <h2 id="jsp-å’Œ-jstl"><a href="#jsp-å’Œ-jstl" class="header-anchor">#</a> JSP å’Œ JSTL</h2> <p>Spring Framework å…·æœ‰å°† Spring MVC ä¸ JSP å’Œ JSTL ç»“åˆä½¿ç”¨çš„å†…ç½®é›†æˆã€‚</p> <blockquote><p>æ›´å¤šå†…å®¹è¯¦è§ï¼š<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-view-jsp" target="_blank" rel="noopener noreferrer">Spring å®˜æ–¹æ–‡æ¡£ä¹‹ JSP and JSTL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="rss-and-atom"><a href="#rss-and-atom" class="header-anchor">#</a> RSS and Atom</h2> <p><code>AbstractAtomFeedView</code> å’Œ <code>AbstractRssFeedView</code> éƒ½ç»§æ‰¿è‡ª <code>AbstractFeedView</code> åŸºç±»ï¼Œåˆ†åˆ«ç”¨äºæä¾› Atom å’Œ RSS Feed è§†å›¾ã€‚ å®ƒä»¬åŸºäº <a href="https://rometools.github.io/rome/" target="_blank" rel="noopener noreferrer">ROME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> é¡¹ç›®ï¼Œä½äº org.springframework.web.servlet.view.feed åŒ…ä¸­ã€‚</p> <p><code>AbstractAtomFeedView</code> è¦æ±‚æ‚¨å®ç° <code>buildFeedEntries()</code> æ–¹æ³•å¹¶å¯é€‰æ‹©è¦†ç›– <code>buildFeedMetadata()</code> æ–¹æ³•ï¼ˆé»˜è®¤å®ç°ä¸ºç©ºï¼‰ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleContentAtomView</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAtomFeedView</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">buildFeedMetadata</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span>
            <span class="token class-name">Feed</span> feed<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// implementation omitted</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Entry</span><span class="token punctuation">&gt;</span></span> <span class="token function">buildFeedEntries</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span>
            <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// implementation omitted</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç±»ä¼¼çš„è¦æ±‚é€‚ç”¨äºå®ç° <code>AbstractRssFeedView</code>ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleContentRssView</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractRssFeedView</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">buildFeedMetadata</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span>
            <span class="token class-name">Channel</span> feed<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// implementation omitted</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">&gt;</span></span> <span class="token function">buildFeedItems</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span>
            <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// implementation omitted</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>buildFeedItems()</code> å’Œ <code>buildFeedEntries()</code> æ–¹æ³•ä¼ å…¥ HTTP è¯·æ±‚ï¼Œä»¥é˜²æ‚¨éœ€è¦è®¿é—® Localeã€‚ ä¼ å…¥ HTTP å“åº”ä»…ç”¨äºè®¾ç½® cookie æˆ–å…¶ä»– HTTP æ ‡å¤´ã€‚ æ–¹æ³•è¿”å›åï¼Œæè¦ä¼šè‡ªåŠ¨å†™å…¥å“åº”å¯¹è±¡ã€‚</p> <p>æœ‰å…³åˆ›å»º Atom è§†å›¾çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜… Alef Arendsen çš„ Spring Team åšå®¢ <a href="https://spring.io/blog/2009/03/16/adding-an-atom-view-to-an-application-using-spring-s-rest-support" target="_blank" rel="noopener noreferrer">entry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="pdf-and-excel"><a href="#pdf-and-excel" class="header-anchor">#</a> PDF and Excel</h2> <p>Spring æä¾›äº†è¿”å› HTML ä»¥å¤–çš„è¾“å‡ºçš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ PDF å’Œ Excel ç”µå­è¡¨æ ¼ã€‚</p> <h3 id="æ–‡æ¡£è§†å›¾ç®€ä»‹"><a href="#æ–‡æ¡£è§†å›¾ç®€ä»‹" class="header-anchor">#</a> æ–‡æ¡£è§†å›¾ç®€ä»‹</h3> <p>HTML é¡µé¢å¹¶ä¸æ€»æ˜¯ç”¨æˆ·æŸ¥çœ‹æ¨¡å‹è¾“å‡ºçš„æœ€ä½³æ–¹å¼ï¼ŒSpring ä½¿ä»æ¨¡å‹æ•°æ®åŠ¨æ€ç”Ÿæˆ PDF æ–‡æ¡£æˆ– Excel ç”µå­è¡¨æ ¼å˜å¾—ç®€å•ã€‚ è¯¥æ–‡æ¡£æ˜¯è§†å›¾ï¼Œä»æœåŠ¡å™¨æµå‡ºæ­£ç¡®çš„å†…å®¹ç±»å‹ï¼Œï¼ˆå¸Œæœ›ï¼‰ä½¿å®¢æˆ·ç«¯ PC èƒ½å¤Ÿè¿è¡Œä»–ä»¬çš„ç”µå­è¡¨æ ¼æˆ– PDF æŸ¥çœ‹å™¨åº”ç”¨ç¨‹åºä½œä¸ºå“åº”ã€‚</p> <p>ä¸ºäº†ä½¿ç”¨ Excel è§†å›¾ï¼Œæ‚¨éœ€è¦å°† Apache POI åº“æ·»åŠ åˆ°ç±»è·¯å¾„ä¸­ã€‚ å¯¹äº PDF ç”Ÿæˆï¼Œæ‚¨éœ€è¦æ·»åŠ ï¼ˆæœ€å¥½ï¼‰OpenPDF åº“ã€‚</p> <h3 id="pdf-è§†å›¾"><a href="#pdf-è§†å›¾" class="header-anchor">#</a> PDF è§†å›¾</h3> <p>å•è¯åˆ—è¡¨çš„ç®€å• PDF è§†å›¾å¯ä»¥æ‰©å±• <code>org.springframework.web.servlet.view.document.AbstractPdfView</code> å¹¶å®ç° <code>buildPdfDocument()</code> æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PdfWordList</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractPdfView</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">buildPdfDocument</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span> <span class="token class-name">Document</span> doc<span class="token punctuation">,</span> <span class="token class-name">PdfWriter</span> writer<span class="token punctuation">,</span>
            <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> words <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;wordList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            doc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Paragraph</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ§åˆ¶å™¨å¯ä»¥ä»å¤–éƒ¨è§†å›¾å®šä¹‰ï¼ˆæŒ‰åç§°å¼•ç”¨å®ƒï¼‰æˆ–ä½œä¸ºå¤„ç†ç¨‹åºæ–¹æ³•çš„ <code>View</code> å®ä¾‹è¿”å›æ­¤ç±»è§†å›¾ã€‚</p> <h3 id="excel-è§†å›¾"><a href="#excel-è§†å›¾" class="header-anchor">#</a> Excel è§†å›¾</h3> <p>ä» Spring Framework 4.2 å¼€å§‹ï¼Œ<code>org.springframework.web.servlet.view.document.AbstractXlsView</code> ä½œä¸º Excel è§†å›¾çš„åŸºç±»æä¾›ã€‚ å®ƒåŸºäº Apache POIï¼Œå…·æœ‰ä¸“é—¨çš„å­ç±»ï¼ˆ<code>AbstractXlsxView</code> å’Œ <code>AbstractXlsxStreamingView</code>ï¼‰ï¼Œå–ä»£äº†è¿‡æ—¶çš„ <code>AbstractExcelView</code> ç±»ã€‚</p> <p>ç¼–ç¨‹æ¨¡å‹ç±»ä¼¼äº <code>AbstractPdfView</code>ï¼Œä»¥ <code>buildExcelDocument()</code> ä½œä¸ºæ ¸å¿ƒæ¨¡æ¿æ–¹æ³•ï¼Œæ§åˆ¶å™¨èƒ½å¤Ÿä»å¤–éƒ¨å®šä¹‰ï¼ˆæŒ‰åç§°ï¼‰æˆ–ä½œä¸ºå¤„ç†ç¨‹åºæ–¹æ³•çš„ <code>View</code> å®ä¾‹è¿”å›æ­¤ç±»è§†å›¾ã€‚</p> <h2 id="jackson"><a href="#jackson" class="header-anchor">#</a> Jackson</h2> <p>Spring æä¾›å¯¹ Jackson JSON åº“çš„æ”¯æŒã€‚</p> <h3 id="åŸºäº-jackson-çš„-json-mvc-è§†å›¾"><a href="#åŸºäº-jackson-çš„-json-mvc-è§†å›¾" class="header-anchor">#</a> åŸºäº Jackson çš„ JSON MVC è§†å›¾</h3> <p><code>MappingJackson2JsonView</code> ä½¿ç”¨ Jackson åº“çš„ <code>ObjectMapper</code> å°†å“åº”å†…å®¹æ¸²æŸ“ä¸º JSONã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ˜ å°„çš„å…¨éƒ¨å†…å®¹ï¼ˆç‰¹å®šäºæ¡†æ¶çš„ç±»é™¤å¤–ï¼‰éƒ½ç¼–ç ä¸º JSONã€‚ å¯¹äºéœ€è¦è¿‡æ»¤ map å†…å®¹çš„æƒ…å†µï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>modelKeys</code> å±æ€§æŒ‡å®šä¸€ç»„ç‰¹å®šçš„æ¨¡å‹å±æ€§è¿›è¡Œç¼–ç ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ <code>extractValueFromSingleKeyModel</code> å±æ€§ç›´æ¥æå–å’Œåºåˆ—åŒ–å•é”®æ¨¡å‹ä¸­çš„å€¼ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ¨¡å‹å±æ€§çš„æ˜ å°„ã€‚</p> <p>æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ Jackson æä¾›çš„æ³¨é‡Šè‡ªå®šä¹‰ JSON æ˜ å°„ã€‚ å½“æ‚¨éœ€è¦è¿›ä¸€æ­¥æ§åˆ¶æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ <code>ObjectMapper</code> å±æ€§æ³¨å…¥è‡ªå®šä¹‰ <code>ObjectMapper</code>ï¼Œé€‚ç”¨äºéœ€è¦ä¸ºç‰¹å®šç±»å‹æä¾›è‡ªå®šä¹‰ JSON åºåˆ—åŒ–å™¨å’Œååºåˆ—åŒ–å™¨çš„æƒ…å†µã€‚</p> <h3 id="åŸºäº-jackson-çš„-xml-è§†å›¾"><a href="#åŸºäº-jackson-çš„-xml-è§†å›¾" class="header-anchor">#</a> åŸºäº Jackson çš„ XML è§†å›¾</h3> <p><code>MappingJackson2XmlView</code> ä½¿ç”¨ <a href="https://github.com/FasterXML/jackson-dataformat-xml" target="_blank" rel="noopener noreferrer">Jackson XML æ‰©å±•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>XmlMapper</code> å°†å“åº”å†…å®¹æ¸²æŸ“ä¸º XMLã€‚ å¦‚æœæ¨¡å‹åŒ…å«å¤šä¸ªæ¡ç›®ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ <code>modelKey</code> bean å±æ€§æ˜¾å¼è®¾ç½®è¦åºåˆ—åŒ–çš„å¯¹è±¡ã€‚ å¦‚æœæ¨¡å‹åŒ…å«å•ä¸ªæ¡ç›®ï¼Œå®ƒä¼šè‡ªåŠ¨åºåˆ—åŒ–ã€‚</p> <p>æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ JAXB æˆ– Jackson æä¾›çš„æ³¨é‡Šè‡ªå®šä¹‰ XML æ˜ å°„ã€‚å½“æ‚¨éœ€è¦è¿›ä¸€æ­¥æ§åˆ¶æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ <code>ObjectMapper</code> å±æ€§æ³¨å…¥è‡ªå®šä¹‰ <code>XmlMapper</code>ï¼Œå¯¹äºéœ€è¦ä¸ºç‰¹å®šç±»å‹æä¾›åºåˆ—åŒ–å™¨å’Œååºåˆ—åŒ–å™¨çš„è‡ªå®šä¹‰ XML çš„æƒ…å†µ</p> <h2 id="xml"><a href="#xml" class="header-anchor">#</a> XML</h2> <p><code>MarshallingView</code> ä½¿ç”¨ XML <code>Marshaller</code>ï¼ˆåœ¨ <code>org.springframework.oxm</code> åŒ…ä¸­å®šä¹‰ï¼‰å°†å“åº”å†…å®¹æ¸²æŸ“ä¸º XMLã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ <code>MarshallingView</code> å®ä¾‹çš„ <code>modelKey</code> å±æ€§æ˜¾å¼è®¾ç½®è¦ç¼–ç»„çš„å¯¹è±¡ã€‚ æˆ–è€…ï¼Œè§†å›¾éå†æ‰€æœ‰æ¨¡å‹å±æ€§å¹¶ç¼–ç»„ <code>Marshaller</code> æ”¯æŒçš„ç¬¬ä¸€ä¸ªç±»å‹ã€‚ æœ‰å…³ <code>org.springframework.oxm</code> åŒ…ä¸­åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#oxm" target="_blank" rel="noopener noreferrer">Marshalling XML using O/X Mappers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="xslt"><a href="#xslt" class="header-anchor">#</a> XSLT</h2> <p>XSLT æ˜¯ XML çš„ä¸€ç§è½¬æ¢è¯­è¨€ï¼Œä½œä¸º Web åº”ç”¨ç¨‹åºä¸­çš„ä¸€ç§è§†å›¾æŠ€æœ¯å¾ˆå—æ¬¢è¿ã€‚ å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºè‡ªç„¶åœ°å¤„ç† XMLï¼Œæˆ–è€…å¦‚æœæ‚¨çš„æ¨¡å‹å¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸º XMLï¼Œé‚£ä¹ˆ XSLT ä½œä¸ºä¸€ç§è§†å›¾æŠ€æœ¯æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ä»¥ä¸‹éƒ¨åˆ†å±•ç¤ºäº†å¦‚ä½•ç”Ÿæˆ XML æ–‡æ¡£ä½œä¸ºæ¨¡å‹æ•°æ®ï¼Œå¹¶åœ¨ Spring Web MVC åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ XSLT å¯¹å…¶è¿›è¡Œè½¬æ¢ã€‚</p> <p>æ­¤ç¤ºä¾‹æ˜¯ä¸€ä¸ªç®€å•çš„ Spring åº”ç”¨ç¨‹åºï¼Œå®ƒåœ¨ <code>Controller</code> ä¸­åˆ›å»ºå…³é”®å­—åˆ—è¡¨å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ¨¡å‹æ˜ å°„ä¸­ã€‚ è¿”å›æ˜ å°„ä»¥åŠæˆ‘ä»¬çš„ XSLT è§†å›¾çš„è§†å›¾åç§°ã€‚ æœ‰å…³ Spring Web MVC çš„ <code>Controller</code> æ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-controller" target="_blank" rel="noopener noreferrer">Annotated Controllers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ XSLT æ§åˆ¶å™¨å°†å•è¯åˆ—è¡¨è½¬æ¢ä¸ºå‡†å¤‡è½¬æ¢çš„ç®€å• XML æ–‡æ¡£ã€‚</p> <h3 id="beans"><a href="#beans" class="header-anchor">#</a> Beans</h3> <p>é…ç½®æ˜¯ä¸€ä¸ªç®€å•çš„ Spring Web åº”ç”¨ç¨‹åºçš„æ ‡å‡†é…ç½®ï¼šMVC é…ç½®å¿…é¡»å®šä¹‰ä¸€ä¸ª <code>XsltViewResolver</code> å’Œå¸¸è§„ MVC æ³¨é‡Šé…ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">XsltViewResolver</span> <span class="token function">xsltViewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">XsltViewResolver</span> viewResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XsltViewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/xsl/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;.xslt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> viewResolver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="controller"><a href="#controller" class="header-anchor">#</a> Controller</h3> <p>æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæ§åˆ¶å™¨æ¥å°è£…æˆ‘ä»¬çš„å•è¯ç”Ÿæˆé€»è¾‘ã€‚</p> <p>æ§åˆ¶å™¨é€»è¾‘å°è£…åœ¨ä¸€ä¸ª <code>@Controller</code> ç±»ä¸­ï¼Œå¤„ç†æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XsltController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Document</span> document <span class="token operator">=</span> <span class="token class-name">DocumentBuilderFactory</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newDocumentBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Element</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;wordList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> words <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Spring&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Framework&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Element</span> wordNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;word&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Text</span> textNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>
            wordNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>textNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            root<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>wordNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;wordList&quot;</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªåˆ›å»ºäº†ä¸€ä¸ª DOM æ–‡æ¡£å¹¶å°†å…¶æ·»åŠ åˆ°æ¨¡å‹æ˜ å°„ä¸­ã€‚è¯·æ³¨æ„ï¼Œæ‚¨è¿˜å¯ä»¥å°† XML æ–‡ä»¶ä½œä¸º <code>Resource</code> åŠ è½½å¹¶ä½¿ç”¨å®ƒæ¥ä»£æ›¿è‡ªå®šä¹‰ DOM æ–‡æ¡£ã€‚</p> <p>æœ‰å¯ç”¨çš„è½¯ä»¶åŒ…å¯ä»¥è‡ªåŠ¨ 'domify' ä¸€ä¸ªå¯¹è±¡å›¾ï¼Œä½†æ˜¯åœ¨ Spring ä¸­ï¼Œæ‚¨å¯ä»¥å®Œå…¨çµæ´»åœ°ä»¥æ‚¨é€‰æ‹©çš„ä»»ä½•æ–¹å¼ä»æ‚¨çš„æ¨¡å‹åˆ›å»º DOMã€‚è¿™å¯ä»¥é˜²æ­¢ XML çš„è½¬æ¢åœ¨æ¨¡å‹æ•°æ®çš„ç»“æ„ä¸­å‘æŒ¥å¤ªå¤§ä½œç”¨ï¼Œè¿™åœ¨ä½¿ç”¨å·¥å…·ç®¡ç† DOMification è¿‡ç¨‹æ—¶æ˜¯ä¸€ç§å±é™©ã€‚</p> <h3 id="transformation"><a href="#transformation" class="header-anchor">#</a> Transformation</h3> <p>æœ€åï¼Œ<code>XsltViewResolver</code> è§£æ â€œhomeâ€ XSLT æ¨¡æ¿æ–‡ä»¶å¹¶å°† DOM æ–‡æ¡£åˆå¹¶åˆ°å…¶ä¸­ä»¥ç”Ÿæˆæˆ‘ä»¬çš„è§†å›¾ã€‚å¦‚ <code>XsltViewResolver</code> é…ç½®æ‰€ç¤ºï¼ŒXSLT æ¨¡æ¿ä½äº <code>WEB-INF/xsl</code> ç›®å½•ä¸‹çš„ <code>war</code> æ–‡ä»¶ä¸­ï¼Œå¹¶ä»¥ <code>xslt</code> æ–‡ä»¶æ‰©å±•åç»“å°¾ã€‚</p> <p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† XSLT è½¬æ¢ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>stylesheet</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/1999/XSL/Transform<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>output</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">omit-xml-declaration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>template</span> <span class="token attr-name">match</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My First Words<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>apply-templates</span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>template</span> <span class="token attr-name">match</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>word<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>value-of</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>stylesheet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å‰é¢çš„è½¬æ¢æ¸²æŸ“ä¸ºä»¥ä¸‹ HTMLï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My First Words<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Framework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/index.html" target="_blank" rel="noopener noreferrer">Spring Framework å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html" target="_blank" rel="noopener noreferrer">Spring Framework å®˜æ–¹æ–‡æ¡£ä¹‹ Web<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/spring-tutorial/edit/master/docs/01.Java/13.æ¡†æ¶/01.Spring/03.SpringWeb/06.Springè§†å›¾.md" target="_blank" rel="noopener noreferrer">ğŸ“ å¸®åŠ©æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/spring-tutorial/tags/?tag=Java" title="æ ‡ç­¾">#Java</a><a href="/spring-tutorial/tags/?tag=%E6%A1%86%E6%9E%B6" title="æ ‡ç­¾">#æ¡†æ¶</a><a href="/spring-tutorial/tags/?tag=Spring" title="æ ‡ç­¾">#Spring</a><a href="/spring-tutorial/tags/?tag=Web" title="æ ‡ç­¾">#Web</a><a href="/spring-tutorial/tags/?tag=View" title="æ ‡ç­¾">#View</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2024/04/24, 07:33:33</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/spring-tutorial/pages/1d2954/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Spring MVC ä¹‹è·¨åŸŸ</div></a> <a href="/spring-tutorial/pages/ad0516/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">SpringBoot ä¹‹åº”ç”¨ EasyUI</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/spring-tutorial/pages/1d2954/" class="prev">Spring MVC ä¹‹è·¨åŸŸ</a></span> <span class="next"><a href="/spring-tutorial/pages/ad0516/">SpringBoot ä¹‹åº”ç”¨ EasyUI</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/spring-tutorial/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/spring-tutorial/pages/1d2954/"><div>
            Spring MVC ä¹‹è·¨åŸŸ
            <!----></div></a> <span class="date">02-16</span></dt></dl><dl><dd>02</dd> <dt><a href="/spring-tutorial/pages/5d002f/"><div>
            Spring Web åº”ç”¨
            <!----></div></a> <span class="date">02-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/spring-tutorial/pages/4a164d/"><div>
            Spring MVC ä¹‹è¿‡æ»¤å™¨
            <!----></div></a> <span class="date">02-14</span></dt></dl> <dl><dd></dd> <dt><a href="/spring-tutorial/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:forbreak@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dunwu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2024
    <span>é’æ‚Ÿï¼ˆdunwuï¼‰ | CC-BY-SA-4.0</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">Ã—</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="261" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 40px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/spring-tutorial/assets/js/app.411aa74d.js" defer></script><script src="/spring-tutorial/assets/js/2.c83e292c.js" defer></script><script src="/spring-tutorial/assets/js/49.7a8efab0.js" defer></script>
  </body>
</html>
